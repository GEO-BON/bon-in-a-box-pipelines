script: script_pmedian_algorithm.R
name: p-medians algorithm
description: Teitz and Bart's p-Median Algorithm 
author: 
  - name: Francis van Oordt
    identifier: "https://orcid.org/0000-0002-8471-235X"
license: CC-BY
inputs:
  dist_matrix:
    label: spatial distance matrix
    description: spatial distance matrix
    type: text/csv
    example: "dist_matrix"
  env_matrix:
    label: environmental distance matrix
    description: environmental distance matrix
    type: text/csv
    example: "env_matrix"
  mdist:
    label: joint distance matrix
    description: joint distance matrix
    type: text/csv
    example: "mdist"
  locations_csv:
    label: Occurence points of species
    description: Occurence points from GBIF or uploaded by the user
    type: text/csv
    example: null
  country_polygon:
    label: Country polygon
    description: polygon of the country of interest
    type: application/geo+json
    example: Peru
  rasters:
    label: Rasters
    description: Rasters layers of environmental variables of interest
    type: image/tiff;application=geotiff[]
    example: |
      GBSTAC|chelsa-clim|bio1,GBSTAC|chelsa-clim|bio2, GBSTAC|chelsa-clim|bio12, 
 

outputs:
  composite_map:
    label: Maps cluster output
    description: maps of selected points 
    type: image/png
  composite_star_map:
    label: Maps connections output
    description: maps of selected points 
    type: image/png

conda:
  channels:
    - conda-forge
    - r
  dependencies:
    - r-rjson
    - r-terra
    - r-ggplot2
    - r-tidyterra
    - r-cowplot
    - r-remotes
    - r-sp
    - r-sf

references:
   - text: "Teitz, M. B., and P. Bart (1968), Heuristic methods for estimating generalized vertex median of a weighted graph, Operations Research, 16, 955-961."
     doi: "https://doi.org/10.1287/opre.16.5.955"
   - text: "tbart: Teitz and Bart's p-Median Algorithm"
     doi: "https://github.com/cran/tbart"