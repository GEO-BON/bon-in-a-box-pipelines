script: loadFromStac.R
description: "Extract individual unprocessed items from various collections on the IO Stac Catalog."
inputs:
  bbox:
    label: bbox
    description: Vector of float, bbox coordinates of the extent in the order xmin, ymin, xmax, ymax
    type: float[]
    example: [-2316297, -1971146, 1015207, 1511916]
  source:
    label: source
    description: String, type of source to load the predictors from (either from tif, or from the stac catalogue)
    type: options
    options:
      - from_tif
      - from_cube
    example: "from_cube"
  collections_items:
    label: collections_items
    description: Vector of strings, collection name followed by '|' followed by item id
    type: text[]
    example: ["chelsa-clim|bio1", "chelsa-clim|bio2"]
  remove_collinearity:
    label: remove collinearity
    description: Boolean, remove or not collinear variables from the set of predictors
    type: boolean
    example: True
  method:
    label: method
    description: Option, method used to compute collinearity between variables
    type: options
    options:
      - vif.cor
      - vif.step
      - pearson
      - spearman
      - kendall
    example: vif.cor
  proj:
    label: projection system
    description: String, projection of the predictors
    type: text
    example: "EPSG:6623"
  spatial_res:
    label: spatial resolution
    description: Integer, spatial resolution of the predictors
    type: int
    example: 1000
  method_cor_vif:
    label: correlation coefficient for vif.cor method
    description: Option, method to calculate the coefficient of collinearity, only used if method == vif.cor
    type: options
    options:
      - pearson
      - spearman
      - kendall
    example: pearson
  nb_sample:
    label: nb sample
    description: Integer, number of points to select to calculate collinearity
    type: int
    example: 5000
  cutoff_cor:
    label: cutoff correlation
    description: Float, correlation cutoff (used with vif.cor, pearson spearman and kendall method)
    type: float
    example: 0.75
  cutoff_vif:
    label: VIF correlation
    description: Integer, VIF correlation cutoff (used with vif.step method)
    type: int
    example: 8
  mask:
    label: mask
    description: Shapefile, used to mask the output predictors
    type: application/dbf
    example: "/scripts/SDM/extentToBbox_extent.shp"
outputs:
  rasters:
    label: rasters
    description: array of output raster paths
    type: image/tiff;application=geotiff[]
  id_rasters:
    label: id_rasters
    description: object containing ids and links to rasters.
    type: object[]
    properties:
      - id
      - layer
