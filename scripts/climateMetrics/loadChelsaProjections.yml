script: loadChelsaProjections.R
name: Load CHELSA climate projections
description: 
  This script loads the CHELSA climate projections
author:
  - name: Juan Zuloaga
inputs:
  rcp:
    label: Shared socioeconomic pathways
    description: Shared socioeconomic pathways ([more info here](see https://en.wikipedia.org/wiki/Shared_Socioeconomic_Pathways))
    type: options
    options: 
      - ssp126
      - ssp370
      - ssp585
    example: ssp126
  spatial_res:
    label: Spatial resolution output
    description: Pixel size (in meters) of the output raster
    type: int
    example: 1000 
  srs_cube: 
    label: Spatial reference output
    description: Target spatial reference system of the output raster
    type: text
    example: EPSG:6624
  variable: 
    label: Climate variable
    description: Chelsa climte variable for projection. See a list of variables [here](https://chelsa-climate.org/wp-admin/download-page/CHELSA_tech_specification.pdf) in section 5.
    type: text
    example: "bio1"
  aggregation:
    label: Aggregation method
    description: Method of aggregation for the temperature data
    type: options
    options: [min, max, mean, median, first]
    example: mean
  time_span:
    label: Future time span
    description: Period for climate projection, start year to end year
    type: options
    options:
      - 2011-2040 
      - 2041-2070
      - 2071-2100
    example: 2041-2070
  bbox:
    label: Bounding box
    description: Vector of float, bbox coordinates of the bbox in the order xmin, ymin, xmax, ymax
    type: float[]
    example: [-2316297,-1971146,1015207,1511916]
outputs:
  future_climate:
    label: Future climate
    description: Raster of CHELSA climate projections
    type: image/tiff;application=geotiff[]
conda:
  channels:
    - conda-forge
    - r
  dependencies:
    - r-base
    - r-rjson
    - r-gdalcubes=0.7.1
    - r-terra
    - r-sf
    - r-lubridate
    - r-rstac