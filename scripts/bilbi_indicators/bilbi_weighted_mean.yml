script: bilbi_weighted_mean.R
name: Weighted means for CSIRO layers
description: "This script calculates the weighted arithmetic mean for the CSIRO BILBI layers PARC, BHI, and BERI to calculate summary statistics 
    over an area of interest. It was adapted from the 'BILBI_regional_summary_function_DAP_version.R' script at (https://doi.org/10.25919/edwj-4b67)[https://doi.org/10.25919/edwj-4b67]."
author:
  - name: Jory Griffith
    email: jory.griffith@mcgill.ca
    identifier: https://orcid.org/0000-0001-6020-6690
inputs: 
  bilbi_indicator:
    label: BILBI indicator tif file
    description: |
      Tiff file of the BILBI CSIRO indicator of choice. Can be Protected Area Representativeness and Connectedness (PARC), Bioclimatic 
      Ecosystem Resilience Index (BERI), or the Biodiversity Habitat Index (BHI)
    type: image/tiff;application=geotiff[]
  bilbi_denominator: 
    label: BILBI denominator tif file
    description: Tiff file to calculate the weighted geometric mean
    type: image/tiff;application=geotiff
  study_area:
    label: Study area
    description: Study area over which to calculate the weighted geometric mean value for the indicator
    type: application/geopackage+sqlite3
outputs: 
  summarised_values:
    label: Indicator summary
    description: Weighted geometric mean of the indicator over the time period of interest in the study area
    type: text/csv
  time_series_plot:
    label: Time series plot
    description: Plot of the geometric mean of the indicator over time in the study area of interest
    type: image/png
conda: 
  channels:
    - conda-forge
    - r
  dependencies:
    - r-rjson
    - r-terra
    - r-tidyverse
    - r-tools
references:
  - text: Harwood et al. 2025
    doi: 10.25919/edwj-4b67
  - text: Harwood et al. 2025
    doi: 10.25919/tt2t-h452
  - text: Harwood et al. 2025
    doi: 10.25919/4vvz-4j96

  



