script: RedListIndex.R
name: Red List Index
description: "Estimates the Red List Index (RLI) for a group of species, reflecting trends in the overall extinction risk for that group."
external_link: https://nrl.iucnredlist.org/assessment/red-list-index
author:
 - name: Maria Camila diaz
   email: mdiaz@humboldt.org.co
 - name: Victor Julio Rincon
   email: rincon-v@javeriana.edu.co
conda:
  channels:
    - r
    - conda-forge
  dependencies:
    - r-magrittr
    - r-data.table
    - r-reshape2
    - r-dplyr
    - r-plyr
    - r-ggplot2
    - r-tibble
    - r-pbapply
    - r-rredlist
    - r-plyr
    # - r-red (not in channels)
    - r-gdistance
    - r-BAT
    - r-ape
    - r-geometry
    - r-magic
    - r-hypervolume
    - r-ks
    - r-mclust
    - r-mvtnorm
    - r-pracma
    - r-fastcluster
    - r-pdist
    - r-palmerpenguins
    - r-caret
    - r-recipes
    - r-timeDate
    - r-gower
    - r-hardhat
    - r-ipred
    - r-prodlim
    - r-lava
    - r-future.apply
    - r-future
    - r-globals
    - r-listenv
    - r-parallelly
    - r-ModelMetrics
    - r-pROC
    - r-nls2
    - r-proto
    - r-vegan
    - r-permute
    - r-phytools
    - r-combinat
    - r-clusterGeneration
    - r-DEoptim
    - r-expm
    - r-optimParallel
    - r-phangorn
    - r-fastmatch
    - r-scatterplot3d
    - r-predicts
    - r-coda
    - r-mnormt
    - r-numDeriv
    - r-quadprog
    - r-dismo
    - r-geosphere

inputs:
  history_assessment_data:
    label: History assessment data
    description: "Dataset that contains the list of species and their historical threat category assessments."
    type: text/csv
    example: 'scripts/RedListIndex/input/iucn_history_assessment_data.csv'
  sp_col:
    label: Species name column
    description: "Name of the column in 'history_assessment_data' that contains the scientific names of the species."
    type: text
    example: 'scientific_name'
  time_col:
    label: Time column
    description: "Name of the column in 'history_assessment_data' that contains the periods (years) when the assessments were conducted for each species."
    type: text
    example: 'assess_year'
  threat_category_code_column:
    label: Threath category column
    description: "Name of the column in 'history_assessment_data' that contains the threat category code. The codes should correspond to the IUCN threat category codes (EX, EW, RE, CR, EN, VU, NT, DD, LC)."
    type: text
    example: 'code'
outputs:
  redlist_trend_plot:
    label: RedList trend
    description: "Figure showing the trend of the Red List Index (RLI) for the evaluated group of species."
    type: image/jpg
  redlist_data:
    label: RedList data
    description: "Dataset containing the results of the Red List Index (RLI) calculation."
    type: text/csv
  redlist_matrix:
    label: RedList matrix
    description: "Matrix showing the distribution of threat categories over time for the group of species."
    type: text/csv