script: getProtectedAreasWDPAapi.R
name: Get protected areas WDPA API
description: |
  This script finds and saves a polygon of the country and state that is specified in the input and the polygon of 
  protected areas in that region from the world database of protected areas (WDPA). It uses the wdpar package and the 
author:
  - name: Jory Griffith (jory.griffith@mcgill.ca)
inputs:
  country:
    label: Country
    description: Country in which to pull WDPA data.
    type: text
    example: Colombia
  region:
    label: State/Province
    description: State or province in which to pull WDPA data. Leave blank to pull data for a whole country.
    type: text
    example: null
  pa_input_type:
    label: Protected area input
    description: Type of input for protected areas. Option "WDPA" uses protected areas from the World Database of Protected Areas. Option "User input" uses polygons input by the user. "Both" combines the WDPA protected areas and user input polygons. 
    type: options
    options:
      - "WDPA"
      - "User input"
      - "Both"
    example: "WDPA"
  crs:
    label: Coordinate reference system
    description: Coordinate reference system for the study area and protected areas
    type: text
    example: "EPSG:4326"
  study_area_file: 
    label: Study area file
    description: File path of the study area of interest (leave blank if using data from rnaturalearth)
    type: text
    example: null
  protected_area_file: 
    label: Protected areas file
    description: File path of the shapefile of protected areas (Leave blank if using data from WDPA)
    type: text
    example: null
outputs:
  study_area:
    label: Polygon of study area
    description: Represents the map of the study area
    type: application/geopackage+sqlite3	
  protected_areas:
    label: Polygon of protected areas
    description: Represents the map of the protected areas within the study area
    type: application/geopackage+sqlite3	
  number_pas: 
    label: Number of protected areas
    description: Number of protected areas in the country of interest
    type: text
conda:
  channels:
    - conda-forge
    - r
  dependencies:
    - r-rjson
    - r-wdpar
    - r-sf
    - r-remotes
    - r-rnaturalearth
    - r-rnaturalearthdata
    - r-dplyr
