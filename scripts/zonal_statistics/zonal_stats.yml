script: zonal_stats.R
name: Zonal statistics
description: |
      This script calculates zonal statistics for one or more raster layers over a bounding box or polygon of interest using the R pacckage exactextractr.
      Zonal statistics will be calculated separately for each layer.
license: CC BY
author:
  - name: Jory Griffith
    email: jory.griffith@mcgill.ca
    identifier: https://orcid.org/0000-0001-6020-6690
inputs:
  rasters:
    label: Rasters
    description: Rasters to calculate zonal statistics (can be one or more).
    type: image/tiff;application=geotiff[]
    example: null
  bbox_crs:
    label: Bounding box and CRS
    description: Object containing the chosen bounding box and CRS.
    type: bboxCRS
    example:
  study_area_polygon:
    label: Polygon of study area
    description: Polygon of the study area of interest
    type: application/geopackage+sqlite3
    example: null
  summary_statistic:
    label: Summary statistic
    description: Summary statistic for layers
    type: options[]
    options:
      - mean
      - median
      - sum
      - min
      - max
      - stdev
      - variance
      - mode
    example: [mean, variance]
outputs:
  zonal_stats:
    label: Summary statistic
    description: Summary statistic over the polygon
    type: text/csv
conda:
  channels:
    - conda-forge
    - r
  dependencies:
    - r-rjson
    - r-terra
  #  - r-gdalcubes=0.7.1
    - r-dplyr
    - r-sf
    - r-exactextractr
    - r-tidyr
references:
  - text: Daniel Baston (2023)
    doi: https://doi.org/10.32614/CRAN.package.exactextractr


