{
  "nodes": [
    {
      "id": "0",
      "type": "io",
      "position": {
        "x": 1502.5298332071789,
        "y": 126.25496313757549
      },
      "data": {
        "descriptionFile": "climateMetrics>climateRarity.yml"
      }
    },
    {
      "id": "1",
      "type": "io",
      "position": {
        "x": 844.9992749033238,
        "y": 2.263521383552387
      },
      "data": {
        "descriptionFile": "data>loadFromStac.yml"
      }
    },
    {
      "id": "2",
      "type": "constant",
      "position": {
        "x": 473.3818888395517,
        "y": -40.470169993160056
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "https://stac.geobon.org/"
      }
    },
    {
      "id": "3",
      "type": "io",
      "position": {
        "x": 101.09976270927928,
        "y": 181.05567751833988
      },
      "data": {
        "descriptionFile": "getCountrybbox.json"
      }
    },
    {
      "id": "4",
      "type": "constant",
      "position": {
        "x": 276.6929786918722,
        "y": 14.180537016198912
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text[]",
        "value": [
          "chelsa_monthly"
        ]
      }
    },
    {
      "id": "7",
      "type": "userInput",
      "position": {
        "x": 327.9780292570698,
        "y": 127.1058546790598
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "PY1"
      }
    },
    {
      "id": "8",
      "type": "userInput",
      "position": {
        "x": -146.00133801605318,
        "y": -46.42799707762376
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "EPSG:4326"
      }
    },
    {
      "id": "10",
      "type": "userInput",
      "position": {
        "x": 132.1821539877924,
        "y": 309.7459096857675
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "options",
        "value": "first",
        "options": [
          "first",
          "min",
          "max",
          "mean",
          "median"
        ]
      }
    },
    {
      "id": "11",
      "type": "constant",
      "position": {
        "x": 428.5872392051574,
        "y": 336.63105440318316
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "options",
        "value": "bilinear",
        "options": [
          "near",
          "bilinear",
          "average",
          "mode",
          "cubic",
          "cubicspline",
          "lanczos",
          "rms",
          "min",
          "max",
          "sum",
          "med",
          "q1",
          "q3"
        ]
      }
    },
    {
      "id": "12",
      "type": "output",
      "position": {
        "x": 1951.810440974626,
        "y": 135.2794603544587
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "13",
      "type": "io",
      "position": {
        "x": 814.5127129722009,
        "y": 463.99552222532884
      },
      "data": {
        "descriptionFile": "climateMetrics>loadChelsaProjections.yml"
      }
    },
    {
      "id": "16",
      "type": "userInput",
      "position": {
        "x": 76.56275249290366,
        "y": 430.2973932000366
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "int",
        "value": 1000
      }
    },
    {
      "id": "17",
      "type": "userInput",
      "position": {
        "x": 271.34058167556816,
        "y": 477.26362383194027
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "options",
        "value": "ssp126",
        "options": [
          "ssp126",
          "ssp370",
          "ssp585"
        ]
      }
    },
    {
      "id": "18",
      "type": "userInput",
      "position": {
        "x": 230.633246129692,
        "y": 65.1994948210949
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "1981-01-01"
      }
    },
    {
      "id": "19",
      "type": "userInput",
      "position": {
        "x": 232.57855602451662,
        "y": 90.48852345381442
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "1981-12-31"
      }
    }
  ],
  "edges": [
    {
      "source": "1",
      "sourceHandle": "rasters",
      "target": "0",
      "targetHandle": "current_climate",
      "id": "reactflow__edge-1rasters-0current_climate"
    },
    {
      "source": "2",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "stac_url",
      "id": "reactflow__edge-2-1stac_url"
    },
    {
      "source": "3",
      "sourceHandle": "data>getBoundingBox.yml@0|bbox",
      "target": "1",
      "targetHandle": "bbox",
      "id": "reactflow__edge-3data>getBoundingBox.yml@0|bbox-1bbox"
    },
    {
      "source": "3",
      "sourceHandle": "data>getBoundingBox.yml@0|bbox",
      "target": "0",
      "targetHandle": "bbox",
      "id": "reactflow__edge-3data>getBoundingBox.yml@0|bbox-0bbox"
    },
    {
      "source": "4",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "collections_items",
      "id": "reactflow__edge-4-1collections_items"
    },
    {
      "source": "7",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "temporal_res",
      "id": "reactflow__edge-7-1temporal_res"
    },
    {
      "source": "8",
      "sourceHandle": null,
      "target": "3",
      "targetHandle": "pipeline@2",
      "id": "reactflow__edge-8-3pipeline@2"
    },
    {
      "source": "8",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "crs",
      "id": "reactflow__edge-8-1crs"
    },
    {
      "source": "10",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "aggregation",
      "id": "reactflow__edge-10-1aggregation"
    },
    {
      "source": "10",
      "sourceHandle": null,
      "target": "0",
      "targetHandle": "aggregation",
      "id": "reactflow__edge-10-0aggregation"
    },
    {
      "source": "11",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "resampling",
      "id": "reactflow__edge-11-1resampling"
    },
    {
      "source": "0",
      "sourceHandle": "output_tif",
      "target": "12",
      "targetHandle": null,
      "id": "reactflow__edge-0output_tif-12"
    },
    {
      "source": "13",
      "sourceHandle": "future_climate",
      "target": "0",
      "targetHandle": "future_climate",
      "id": "reactflow__edge-13future_climate-0future_climate"
    },
    {
      "source": "10",
      "sourceHandle": null,
      "target": "13",
      "targetHandle": "aggregation",
      "id": "reactflow__edge-10-13aggregation"
    },
    {
      "source": "3",
      "sourceHandle": "data>getBoundingBox.yml@0|bbox",
      "target": "13",
      "targetHandle": "bbox",
      "id": "reactflow__edge-3data>getBoundingBox.yml@0|bbox-13bbox"
    },
    {
      "source": "8",
      "sourceHandle": null,
      "target": "13",
      "targetHandle": "srs_cube",
      "id": "reactflow__edge-8-13srs_cube"
    },
    {
      "source": "8",
      "sourceHandle": null,
      "target": "0",
      "targetHandle": "srs_cube",
      "id": "reactflow__edge-8-0srs_cube"
    },
    {
      "source": "16",
      "sourceHandle": null,
      "target": "0",
      "targetHandle": "spatial_res",
      "id": "reactflow__edge-16-0spatial_res"
    },
    {
      "source": "16",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "spatial_res",
      "id": "reactflow__edge-16-1spatial_res"
    },
    {
      "source": "16",
      "sourceHandle": null,
      "target": "13",
      "targetHandle": "spatial_res",
      "id": "reactflow__edge-16-13spatial_res"
    },
    {
      "source": "17",
      "sourceHandle": null,
      "target": "13",
      "targetHandle": "rcp",
      "id": "reactflow__edge-17-13rcp"
    },
    {
      "source": "17",
      "sourceHandle": null,
      "target": "0",
      "targetHandle": "rcp",
      "id": "reactflow__edge-17-0rcp"
    },
    {
      "source": "18",
      "sourceHandle": null,
      "target": "0",
      "targetHandle": "t0",
      "id": "reactflow__edge-18-0t0"
    },
    {
      "source": "18",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "t0",
      "id": "reactflow__edge-18-1t0"
    },
    {
      "source": "19",
      "sourceHandle": null,
      "target": "0",
      "targetHandle": "t1",
      "id": "reactflow__edge-19-0t1"
    },
    {
      "source": "19",
      "sourceHandle": null,
      "target": "1",
      "targetHandle": "t1",
      "id": "reactflow__edge-19-1t1"
    }
  ],
  "inputs": {
    "pipeline@8": {
      "label": "Coordinate reference system",
      "description": "Numerical value referring to the EPSG code (European Petroleum Survey Group) associated with the spatial reference system that will be used as a reference for the study area.\nThis numerical value specifies the projection and geodetic datum used to define the coordinates and spatial representation of the data in the study area.\nThis MUST be in a projected reference system (not lat long).\n\nFor further information on coordinate systems and EPSG codes, you can access the official database on the EPSG website at [https://epsg.org/home.html](https://epsg.org/home.html).\nThe website provides documentation, resources, and tools for searching and understanding the EPSG codes used in various geospatial contexts.\n",
      "type": "text",
      "example": "EPSG:4326",
      "weight": 0
    },
    "climateMetrics>climateRarity.yml@0|moving_window": {
      "description": "number of cells (must be an odd number)",
      "label": "search moving window",
      "type": "int",
      "example": 11,
      "weight": 1
    },
    "climateMetrics>climateRarity.yml@0|t_match": {
      "description": "Acceptable difference of climate (e.g., mean temperature in Â°C) to consider that the climate is similar.",
      "label": "threshold climate match",
      "type": "float",
      "example": 1,
      "weight": 2
    },
    "climateMetrics>climateRarity.yml@0|time_span": {
      "description": "period for climate projection, start year to end year",
      "label": "future time span",
      "type": "options",
      "options": [
        "2011-2040",
        "2041-2070",
        "2071-2100"
      ],
      "example": "2041-2070",
      "weight": 3
    },
    "data>loadFromStac.yml@1|study_area": {
      "description": "Polygon of study area used to mask output layers, in geopackage format.",
      "label": "Study area",
      "type": "application/geopackage+sqlite3",
      "example": null,
      "weight": 4
    },
    "getCountrybbox.json@3|data>getCountryPolygon.yml@12|country": {
      "description": "ISO3 country code for the country of interest. For a list of ISO3 country codes,\nlook [here](https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes).\n",
      "label": "ISO3 country code",
      "type": "text",
      "example": "COL",
      "weight": 5
    },
    "getCountrybbox.json@3|data>getCountryPolygon.yml@12|region": {
      "description": "ISO 3166-2 code for province or region, see more [here](en.wikipedia.org/wiki/ISO_3166-2)",
      "label": "State/Province code",
      "type": "text",
      "example": null,
      "weight": 6
    },
    "pipeline@7": {
      "label": "Temporal resolution",
      "description": "Temporal resolution to use when querying STAC items by date, in the format (\"P\", time interval, and time unit, e.g. \"P1Y\" is yearly, \"P1M\" is montly, and \"P1D\" is daily). Leave blank if not querying by date. If the temporal resolution is coarser than the temporal resolution of the time series, the layers will be aggregated with the aggregation method chosen below.",
      "type": "text",
      "example": "PY1",
      "weight": 7
    },
    "pipeline@10": {
      "label": "Aggregation method",
      "description": "Method used to aggregate items when layers combining over time.",
      "type": "options",
      "example": "first",
      "options": [
        "first",
        "min",
        "max",
        "mean",
        "median"
      ],
      "weight": 8
    },
    "climateMetrics>loadChelsaProjections.yml@13|variable": {
      "description": "Chelsa climte variable for projection. See a list of variables [here](https://chelsa-climate.org/wp-admin/download-page/CHELSA_tech_specification.pdf) in section 5.",
      "label": "Climate variable",
      "type": "text",
      "example": "bio1",
      "weight": 9
    },
    "climateMetrics>loadChelsaProjections.yml@13|time_span": {
      "description": "Period for climate projection, start year to end year",
      "label": "Future time span",
      "type": "options",
      "options": [
        "2011-2040",
        "2041-2070",
        "2071-2100"
      ],
      "example": "2041-2070",
      "weight": 10
    },
    "pipeline@16": {
      "label": "spatial resolution output",
      "description": "pixel size (in meters) of the output raster",
      "type": "int",
      "example": 1000,
      "weight": 11
    },
    "pipeline@17": {
      "label": "Shared socioeconomic pathways",
      "description": "Shared socioeconomic pathways ([more info here](see https://en.wikipedia.org/wiki/Shared_Socioeconomic_Pathways))",
      "type": "options",
      "example": "ssp126",
      "options": [
        "ssp126",
        "ssp370",
        "ssp585"
      ],
      "weight": 12
    },
    "pipeline@18": {
      "label": "current climate start",
      "description": "Current climate start time, in format aaaa-mm-dd",
      "type": "text",
      "example": "1981-01-01",
      "weight": 13
    },
    "pipeline@19": {
      "label": "current climate end",
      "description": "Current climate end time, in format aaaa-mm-dd",
      "type": "text",
      "example": "1981-12-31",
      "weight": 14
    }
  },
  "outputs": {
    "climateMetrics>climateRarity.yml@0|output_tif": {
      "description": "Raster file, values close to zero indicate that mean temperature is rare compare with its surrounding region. Values close to 1 indicate that mean temperature is common compare with its surrounding region.",
      "label": "output",
      "type": "image/tiff;application=geotiff[]",
      "range": [
        0,
        1
      ],
      "example": "climate_current_rarity.tif",
      "weight": 0
    }
  },
  "metadata": {
    "name": "Climate Metrics",
    "description": null,
    "author": [
      {
        "name": null,
        "email": null,
        "identifier": null
      }
    ],
    "license": null,
    "external_link": null,
    "references": [
      {
        "text": null,
        "doi": null
      },
      {
        "text": null,
        "doi": null
      }
    ]
  }
}