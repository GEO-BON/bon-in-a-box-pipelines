{
  "nodes": [
    {
      "id": "0",
      "type": "io",
      "position": {
        "x": 1293.5128304353887,
        "y": 287.55450324261545
      },
      "data": {
        "descriptionFile": "site_selection_BAS>Block_creation.yml"
      }
    },
    {
      "id": "2",
      "type": "io",
      "position": {
        "x": 799.5372585827968,
        "y": 227.36589324044638
      },
      "data": {
        "descriptionFile": "data>loadFromStac.yml"
      }
    },
    {
      "id": "6",
      "type": "output",
      "position": {
        "x": 1844.979965114293,
        "y": 200.15661237212822
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "10",
      "type": "userInput",
      "position": {
        "x": -156.2632695811667,
        "y": 155.47155070725273
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "EPSG:6622"
      }
    },
    {
      "id": "13",
      "type": "output",
      "position": {
        "x": 1864.8801407726046,
        "y": 415.3516914798572
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "14",
      "type": "output",
      "position": {
        "x": 1863.004569575648,
        "y": 318.57594462458974
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "18",
      "type": "constant",
      "position": {
        "x": 217.59296997821605,
        "y": 281.81706957564836
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": null
      }
    },
    {
      "id": "26",
      "type": "io",
      "position": {
        "x": 1871.8653456117443,
        "y": 257.9184092471562
      },
      "data": {
        "descriptionFile": "site_selection_BAS>BAS_algorithm.yml"
      }
    },
    {
      "id": "29",
      "type": "output",
      "position": {
        "x": 2420.061755315188,
        "y": 257.78758058358727
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "31",
      "type": "output",
      "position": {
        "x": 2373.9230235365535,
        "y": 204.55465678991578
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "32",
      "type": "output",
      "position": {
        "x": 2459.039719684568,
        "y": 324.8158166266813
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "36",
      "type": "userInput",
      "position": {
        "x": -267.7311075082053,
        "y": 227.72687284195922
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "Colombia"
      }
    },
    {
      "id": "37",
      "type": "io",
      "position": {
        "x": 192.0796866875653,
        "y": 169.2646367083717
      },
      "data": {
        "descriptionFile": "data>getBoundingBox.yml"
      }
    },
    {
      "id": "38",
      "type": "constant",
      "position": {
        "x": -364.46991316635774,
        "y": 269.21580643607547
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": null
      }
    },
    {
      "id": "39",
      "type": "constant",
      "position": {
        "x": -347.0153048780783,
        "y": 337.36502755808993
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": null
      }
    }
  ],
  "edges": [
    {
      "source": "2",
      "sourceHandle": "rasters",
      "target": "0",
      "targetHandle": "rasters",
      "id": "reactflow__edge-2rasters-0rasters"
    },
    {
      "source": "0",
      "sourceHandle": "rast_blocks",
      "target": "6",
      "targetHandle": null,
      "id": "reactflow__edge-0rast_blocks-6"
    },
    {
      "source": "10",
      "sourceHandle": null,
      "target": "2",
      "targetHandle": "proj",
      "id": "reactflow__edge-10-2proj"
    },
    {
      "source": "0",
      "sourceHandle": "pca_summary_df",
      "target": "13",
      "targetHandle": null,
      "id": "reactflow__edge-0pca_summary_df-13"
    },
    {
      "source": "0",
      "sourceHandle": "blocks_plot",
      "target": "14",
      "targetHandle": null,
      "id": "reactflow__edge-0blocks_plot-14"
    },
    {
      "source": "18",
      "sourceHandle": null,
      "target": "2",
      "targetHandle": "weight_matrix_with_ids",
      "id": "reactflow__edge-18-2weight_matrix_with_ids"
    },
    {
      "source": "26",
      "sourceHandle": "pts_df",
      "target": "29",
      "targetHandle": null,
      "id": "reactflow__edge-26pts_df-29"
    },
    {
      "source": "0",
      "sourceHandle": "rast_blocks",
      "target": "26",
      "targetHandle": "rast_blocks",
      "id": "reactflow__edge-0rast_blocks-26rast_blocks"
    },
    {
      "source": "26",
      "sourceHandle": "maps_output",
      "target": "31",
      "targetHandle": null,
      "id": "reactflow__edge-26maps_output-31"
    },
    {
      "source": "26",
      "sourceHandle": "points_shape",
      "target": "32",
      "targetHandle": null,
      "id": "reactflow__edge-26points_shape-32"
    },
    {
      "source": "37",
      "sourceHandle": "study_area_polygon_unprojected",
      "target": "0",
      "targetHandle": "country_polygon",
      "id": "reactflow__edge-37study_area_polygon_unprojected-0country_polygon"
    },
    {
      "source": "37",
      "sourceHandle": "bbox",
      "target": "2",
      "targetHandle": "bbox",
      "id": "reactflow__edge-37bbox-2bbox"
    },
    {
      "source": "36",
      "sourceHandle": null,
      "target": "37",
      "targetHandle": "country",
      "id": "reactflow__edge-36-37country"
    },
    {
      "source": "10",
      "sourceHandle": null,
      "target": "37",
      "targetHandle": "studyarea_epsg",
      "id": "reactflow__edge-10-37studyarea_epsg"
    },
    {
      "source": "38",
      "sourceHandle": null,
      "target": "37",
      "targetHandle": "state",
      "id": "reactflow__edge-38-37state"
    },
    {
      "source": "39",
      "sourceHandle": null,
      "target": "37",
      "targetHandle": "study_area_file",
      "id": "reactflow__edge-39-37study_area_file"
    },
    {
      "source": "37",
      "sourceHandle": "study_area_polygon_unprojected",
      "target": "26",
      "targetHandle": "country_polygon",
      "id": "reactflow__edge-37study_area_polygon_unprojected-26country_polygon"
    }
  ],
  "inputs": {
    "data>loadFromStac.yml@2|stac_url": {
      "description": "URL of the STAC catalog.",
      "label": "stac_url",
      "type": "text",
      "example": "https://stac.geobon.org/",
      "weight": 0
    },
    "data>loadFromStac.yml@2|collections_items": {
      "description": "Vector of strings, collection name followed by '|' followed by item id",
      "label": "collections_items",
      "type": "text[]",
      "example": [
        "chelsa-clim|bio1",
        "chelsa-clim|bio2"
      ],
      "weight": 1
    },
    "data>loadFromStac.yml@2|spatial_res": {
      "description": "Integer, spatial resolution of the rasters",
      "label": "spatial resolution",
      "type": "float",
      "example": 1000,
      "weight": 2
    },
    "data>loadFromStac.yml@2|resampling": {
      "description": "Resampling method used when rescaling the raster layers. See [gdalwarp](https://gdal.org/en/latest/programs/gdalwarp.html) for description.",
      "label": "resampling",
      "type": "options",
      "options": [
        "near",
        "bilinear",
        "average",
        "mode",
        "cubic",
        "cubicspline",
        "lanczos",
        "rms",
        "min",
        "max",
        "sum",
        "med",
        "q1",
        "q3"
      ],
      "example": "near",
      "weight": 3
    },
    "data>loadFromStac.yml@2|mask": {
      "description": "Shapefile, used to mask the output rasters",
      "label": "mask",
      "type": "application/dbf",
      "weight": 4,
      "example": null
    },
    "data>loadFromStac.yml@2|aggregation": {
      "description": "Method used to aggregate items that overlay each other",
      "label": "aggregation",
      "type": "options",
      "options": [
        "first",
        "min",
        "max",
        "mean",
        "median"
      ],
      "example": "first",
      "weight": 5
    },
    "pipeline@10": {
      "label": "projection system",
      "description": "String, projection of the rasters",
      "type": "text",
      "example": "EPSG:6622",
      "weight": 6
    },
    "site_selection_BAS>Block_creation.yml@0|n_rows": {
      "description": "Number of rows for the block grid",
      "label": "number of rows",
      "type": "int",
      "example": 10,
      "weight": 7
    },
    "site_selection_BAS>Block_creation.yml@0|n_cols": {
      "description": "Number of columns for the block grid",
      "label": "number of columns",
      "type": "int",
      "example": 10,
      "weight": 8
    },
    "site_selection_BAS>BAS_algorithm.yml@26|ndesign": {
      "description": "A number of target sites to obtain",
      "label": "Target total sites",
      "type": "int",
      "example": 100,
      "weight": 9
    },
    "pipeline@36": {
      "label": "Country",
      "description": "Country of interest. For list of countries look here https://geoio.biodiversite-quebec.ca/docs#/default/validate_country_name_validate_country_name_get.",
      "type": "text",
      "example": "Colombia",
      "weight": 10
    }
  },
  "outputs": {
    "site_selection_BAS>Block_creation.yml@0|rast_blocks": {
      "description": "environmental blocks raster",
      "label": "environmental blocks raster",
      "type": "image/tiff;application=geotiff[]",
      "weight": 0
    },
    "site_selection_BAS>Block_creation.yml@0|pca_summary_df": {
      "description": "summary of PCA",
      "label": "summary of PCA",
      "type": "csv",
      "weight": 1
    },
    "site_selection_BAS>Block_creation.yml@0|blocks_plot": {
      "description": "env space and map of blocks",
      "label": "blocks and map plots",
      "type": "image/png",
      "weight": 2
    },
    "site_selection_BAS>BAS_algorithm.yml@26|pts_df": {
      "description": "dataframe of selected points",
      "label": "selected points",
      "type": "csv",
      "weight": 3
    },
    "site_selection_BAS>BAS_algorithm.yml@26|maps_output": {
      "description": "maps of selected points",
      "label": "maps_output",
      "type": "image/png",
      "weight": 4
    },
    "site_selection_BAS>BAS_algorithm.yml@26|points_shape": {
      "description": "Vector shapefile of selected points",
      "label": "selected points shapefile",
      "type": "application/geo+json",
      "weight": 5
    }
  },
  "metadata": {
    "name": "Environmental Sampling Site Selection",
    "description": "Selection of sampling sites based on environmental variables using a BAS algorithm",
    "author": [
      {
        "name": "Francis van Oordt",
        "email": "francis.vanoordtlahoz@mail.mcgill.ca",
        "identifier": "https://orcid.org/0000-0002-8471-235X"
      }
    ],
    "license": "CC-BY",
    "references": [
      {
        "text": "spbal: Spatially Balanced Sampling Algorithms",
        "doi": "10.32614/CRAN.package.spbal"
      },
      {
        "text": "Survey-gap analysis in expeditionary research: where do we go from here?",
        "doi": "https://doi.org/10.1111/j.1095-8312.2005.00520.x"
      },
      {
        "text": "Selection of sampling sites for biodiversity inventory: Effects of environmental and geographical considerations",
        "doi": "https://doi.org/10.1111/2041-210X.13869"
      }
    ]
  }
}